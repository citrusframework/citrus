name: "OpenApiServerTest"
author: "Christoph"
status: "FINAL"
variables:
  - name: "petstoreSpec"
    value: classpath:org/citrusframework/openapi/petstore/petstore-v3.yaml
  - name: "petId"
    value: "12345"
actions:
  - openapi:
      specification: ${petstoreSpec}
      server: "httpServer"
      receiveRequest:
        operation: getPetById
  - openapi:
      sendResponse:
        operation: getPetById
        status: 200
      specification: ${petstoreSpec}
      server: "httpServer"

  - openapi:
      server: "httpServer"
      receiveRequest:
        operation: addPet
        timeout: 2000
      specification: ${petstoreSpec}
  - openapi:
      specification: ${petstoreSpec}
      server: "httpServer"
      sendResponse:
        operation: addPet
        status: 201
